"use strict";!function(){var i=location.search.substring(1).split("=")[1];console.log(i),$.ajax({url:"http://10.31.158.55/aiqiyistore/php/detail.php",data:{picid:i},dataType:"json"}).done(function(i){$("#smallpic").attr("src",i.url),$("#bpic").attr("src",i.url),$("#smallpic").attr("sid",i.picid),$(".mod_pd_crumbs_el").html(i.title),$(".loadpcp").html(i.price),$(".detail-title").html(i.title),$(".detail-subtitle").html(i.descript)}),function(){$("#sf").width($("#spic").width()*$("#bf").width()/$("#bpic").width()),$("#sf").height($("#spic").height()*$("#bf").height()/$("#bpic").height());var c=$("#bpic").width()/$("#spic").width();$("#spic").hover(function(){$("#sf").css("visibility","visible"),$("#bf").css("visibility","visible"),$(this).on("mousemove",function(i){var t=i.pageX-$(".goodsinfo").offset().left-$("#sf").width()/2,s=i.pageY-$(".goodsinfo").offset().top-$("#sf").height()/2;t<0?t=0:t>=$("#spic").width()-$("#sf").width()&&(t=$("#spic").width()-$("#sf").width()),s<0?s=0:s>=$("#spic").height()-$("#sf").height()&&(s=$("#spic").height()-$("#sf").height()),$("#sf").css("left",t),$("#sf").css("top",s),$("#bpic").css("left",-t*c),$("#bpic").css("top",-s*c)})},function(){$("#sf").css("visibility","hidden"),$("#bf").css("visibility","hidden")}),$("#list ul").on("click","li",function(){var i=$(this).find("img").attr("src");$("#smallpic").attr("src",i),$("#bpic").attr("src",i)});var t=6;$("#right").on("click",function(){var i=$("#list ul li");i.length>t&&(t++,$("#left").css("color","#333"),i.length==t&&$("#right").css("color","#fff"),$("#list ul").animate({left:-(t-6)*i.eq(0).innerWidth()}))}),$("#left").on("click",function(){var i=$("#list ul li");6<t&&(t--,$("#right").css("color","#333"),t<=6&&$("#left").css("color","#fff"),$("#list ul").animate({left:-(t-6)*i.eq(0).innerWidth()}))})}();var s=[],c=[];$(".p-btn a").on("click",function(){var i=$(this).parents(".goodsinfo").find("#smallpic").attr("sid");if(getcookie("cookiesid")&&getcookie("cookienum")&&(s=getcookie("cookiesid").split(","),c=getcookie("cookienum").split(",")),-1!=$.inArray(i,s)){var t=parseInt(c[$.inArray(i,s)])+parseInt($("#count").val());c[$.inArray(i,s)]=t,addcookie("cookienum",c.toString(),10)}else s.push(i),addcookie("cookiesid",s.toString(),10),c.push($("#count").val()),addcookie("cookienum",c.toString(),10)})}();